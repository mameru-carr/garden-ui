---
import { getCollection } from "astro:content";
import '@fontsource-variable/ysabeau';
import formatDate from "../utils/format-date";
const { collection, top = 5 } = Astro.props;

interface Props {
    top?: number,
    collection: string
}

const posts = (await getCollection(collection)).sort(
    (a, b) => b.data.createdAt - a.data.createdAt
).slice(0, top);

---

<ul class="mt-2">
    {
        posts.map((post) => (
                <li class="mb-2 px-2">
                    <a href={`/${collection}/${post.id}/`}
                       class="flex flex-col g">
                        <span class="text-xs title text-gray-400">
                            { formatDate(post.data.createdAt )}
                        </span>
                        <span class="text-lg title">
                            { post.data.title }
                        </span>
                        <span class="text-sm sub-title">
                            { post.data.subTitle }
                        </span>
                    </a>
                </li>))
    }
</ul>

<style lang="sass">
</style>

